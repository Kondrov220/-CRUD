var e;const t=async()=>{try{return await fetch("http://localhost:3000/students").then(e=>e.json())}catch(e){console.log(e)}},l=e=>e.map(e=>`
        <tr id="${e.id}">
         <td>${e.id}</td>
          <td>${e.name}</td>
          <td>${e.age}</td>
          <td>${e.course}</td>
<td>${Array.isArray(e.skills)?e.skills.join(", "):e.skills}</td>
          <td>${e.email}</td>
          <td>${e.isEnrolled}</td>
          <td>
            <button data-id="${e.id}" class="delete-btn">Delete</button>
            <button data-id="${e.id}" class="edit-btn">Edit</button>
          </td>
        </tr>
      `).join(""),n=async e=>{let t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}};try{return await fetch("http://localhost:3000/students",t).then(e=>e.json())}catch(e){console.log(e)}},o=async e=>{try{return await fetch(`http://localhost:3000/students/${e}`,{method:"DELETE"})}catch(e){console.log(e)}},r=async(e,t)=>{console.log(t,typeof t);let l={method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}};try{return await fetch(`http://localhost:3000/students/${t}`,l).then(e=>e.json())}catch(e){console.log(e)}};t().then(e=>{console.log(e),document.querySelector("tbody").innerHTML=l(e)}),(e=document.querySelector("#add-student-form")).addEventListener("submit",async o=>{o.preventDefault();let r=e.elements.name.value,a=parseInt(e.elements.age.value),s=e.elements.course.value,c=e.elements.skills.value.split(",").map(e=>e.trim()),d=e.elements.email.value,u=e.elements.isEnrolled.checked;await n({name:r,age:a,course:s,skills:c,email:d,isEnrolled:u});let i=await t();document.querySelector("tbody").innerHTML=l(i),e.reset()}),document.querySelector("tbody").addEventListener("click",async e=>{if("Delete"===e.target.textContent){let n=e.target.parentElement.parentElement;console.log(n),console.log(n.id),await o(n.id),await t().then(e=>{console.log(e),document.querySelector("tbody").innerHTML=l(e)})}}),document.querySelector("tbody").addEventListener("click",async e=>{"Edit"===e.target.textContent&&(console.log("test"),document.querySelector("#add-student-btn").classList.add("hidden"),document.querySelector("#update-student-btn").classList.remove("hidden"),((e,n)=>{console.log("ID:",n),console.log("ID typeof:",typeof n);let o=document.getElementById(n).querySelectorAll("td");e.querySelector("#name").value=o[1].textContent,e.querySelector("#age").value=o[2].textContent,e.querySelector("#course").value=o[3].textContent,e.querySelector("#skills").value=o[4].textContent,e.querySelector("#email").value=o[5].textContent,document.querySelector("#update-student-btn").addEventListener("click",async o=>{o.preventDefault();let a=e.querySelector("#name").value,s=e.querySelector("#age").value,c=e.querySelector("#course").value,d=e.querySelector("#skills").value,u={name:a,age:s,course:c,skills:d,email:e.querySelector("#email").value,isEnrolled:e.querySelector("#isEnrolled").checked};r(u,n),t().then(e=>{console.log(e),document.querySelector("tbody").innerHTML=l(e)}),e.querySelector("#name").value="",e.querySelector("#age").value="",e.querySelector("#course").value="",e.querySelector("#skills").value="",e.querySelector("#email").value="",e.querySelector("#isEnrolled").checked=!1,console.log(u),document.querySelector("#update-student-btn").classList.add("hidden"),document.querySelector("#add-student-btn").classList.remove("hidden")})})(document.querySelector("#add-student-form"),e.target.parentElement.parentElement.id))});
//# sourceMappingURL=-CRUD.90770c0a.js.map
